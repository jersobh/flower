testPostLifecycle:
  - name: "Create a New Post"
    url: "https://jsonplaceholder.typicode.com/posts"
    method: "POST"
    params:
      title: 'foo'
      body: 'bar'
      userId: 1
    assertions:
      - type: "equal"
        target: "status"
        expected: 201
      - type: "equal"
        target: "data.title"
        expected: "foo"
    saveToContext:
      postId: "data.id"

  - name: "Fetch Created Post"
    url: "https://jsonplaceholder.typicode.com/posts/10"
    method: "GET"
    headers:
      postId: "{context.postId}"
      "Content-Type": "application/json"
    assertions:
      - type: "equal"
        target: "status"
        expected: 400
      - type: "equal"
        target: "data.id"
        expected: 10
      - type: "include"
        target: "data.title"
        expected: "optio"

  - name: "Update Created Post"
    url: "https://jsonplaceholder.typicode.com/posts/10"
    method: "PUT"
    headers:
      postId: "{context.postId}"
      "Content-Type": "application/json"
    assertions:
      - type: "equal"
        target: "status"
        expected: 200
      - type: "equal"
        target: "data.id"
        expected: 10
